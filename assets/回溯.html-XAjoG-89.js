import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,b as k,e,a as s,w as t,d as i,r as d,o as g}from"./app-Ajq5bhoz.js";const c={};function m(A,a){const h=d("Tabs");return g(),r("div",null,[a[62]||(a[62]=k('<h1 id="回溯" tabindex="-1"><a class="header-anchor" href="#回溯"><span>回溯</span></a></h1><h2 id="回溯算法" tabindex="-1"><a class="header-anchor" href="#回溯算法"><span>回溯算法</span></a></h2><hr><p>​ 「回溯算法 backtracking algorithm」是一种通过穷举来解决问题的方法，它的核心思想是从一个初始状态出发，暴力搜索所有可能的解决方案，当遇到正确的解则将其记录，直到找到解或者尝试了所有可能的选择都无法找到解为止。</p><p>​ 回溯算法通常采用“深度优先搜索”来遍历解空间。在“二叉树”中，便提到了前序、中序和后序遍历都属于深度优先搜索。</p><div class="hint-container info"><p class="hint-container-title">问题</p><p>给定一颗二叉树，搜索并记录所有值为 7 的节点，请返回节点列表。</p></div><p>​ 对于此题，我们前序遍历这颗树，并判断当前节点的值是否为 7，若是，则将该节点的值加入结果列表 res 之中。相关过程实现如下图和以下代码所示：</p>',7)),e(h,{id:"21",data:[{id:"c++"},{id:"java"}],"tab-id":"code"},{title0:t(({value:l,isActive:n})=>a[0]||(a[0]=[i("c++")])),title1:t(({value:l,isActive:n})=>a[1]||(a[1]=[i("java")])),tab0:t(({value:l,isActive:n})=>a[2]||(a[2]=[s("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 前序遍历：例题一 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"TreeNode"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," *"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (root "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"=="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," nullptr"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"->"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"val"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," =="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 7"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(root);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"->"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"left"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"->"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"right"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:t(({value:l,isActive:n})=>a[3]||(a[3]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"shiki","data-ext":"java",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 前序遍历：例题一 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," root) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," (root "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"=="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," null"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"val"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," =="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 7"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(root);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"left"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},")"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"right"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},")"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[63]||(a[63]=k('<figure><img src="http://101.43.49.28:9000/blog/在前序遍历中搜索节点.png" alt="在前序遍历中搜索节点" tabindex="0" loading="lazy"><figcaption>在前序遍历中搜索节点</figcaption></figure><h3 id="尝试与回退" tabindex="-1"><a class="header-anchor" href="#尝试与回退"><span>尝试与回退</span></a></h3><p>​ <strong>之所以称之为回溯算法，是因为该算法在搜索解空间时会采用“尝试”与“回退”的策略</strong>。当算法在搜索过程中遇到某个状态无法继续前进或无法得到满足条件的解时，它会撤销上一步的选择，退回到之前的状态，并尝试其他可能的选择。</p><p>​ 对于上面例题，访问每个节点都代表一次“尝试”，而越过叶节点或返回父节点的 return 则表示“回退”。</p><p>​ 值得说明的是，<strong>回退并不仅仅包括函数返回</strong>。为了解释这一点，以下例题对之前例题进行了稍作拓展。</p><div class="hint-container info"><p class="hint-container-title">问题</p><p>在二叉树中搜索所有值为 7 的节点，<strong>请返回根节点到这些节点的路径</strong>。</p></div><p>​ 在之前例题的代码基础上，还需要借助一个列表 path 记录访问过的节点路径。当访问到值为 7 的节点上，则复制 path 并添加进结果列表 res。遍历完成后，res 中保存的就是所有的解。代码如下所示：</p>',7)),e(h,{id:"52",data:[{id:"c++"},{id:"java"}],"tab-id":"code"},{title0:t(({value:l,isActive:n})=>a[4]||(a[4]=[i("c++")])),title1:t(({value:l,isActive:n})=>a[5]||(a[5]=[i("java")])),tab0:t(({value:l,isActive:n})=>a[6]||(a[6]=[s("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 前序遍历：例题二 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"TreeNode"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," *"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (root "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"=="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," nullptr"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 尝试")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    path"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(root);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"->"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"val"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," =="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 7"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(path);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"->"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"left"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"->"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"right"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 回退")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    path"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"pop_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"();")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:t(({value:l,isActive:n})=>a[7]||(a[7]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"shiki","data-ext":"java",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 前序遍历：例题二 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," root) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," (root "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"=="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," null"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 尝试")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    path"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(root);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"val"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," =="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 7"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>(path));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"left"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},")"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"right"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},")"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 回退")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    path"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"remove"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"path"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"() "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[64]||(a[64]=s("p",null,[i("​ 在每次“尝试”中，通过将当前节点添加进 path 来记录路径；而在“回退”前，还需要将该节点从 path 中弹出，"),s("strong",null,"以恢复本次尝试之前的状态"),i("。")],-1)),a[65]||(a[65]=s("p",null,[i("​ 观察下组图所示的过程，"),s("strong",null,"我们可以将尝试和回退理解为“前进”与“撤销”"),i("，两个操作互为逆向。")],-1)),e(h,{id:"66",data:[{id:"Step1"},{id:"Step2"},{id:"Step3"},{id:"Step4"},{id:"Step5"},{id:"Step6"},{id:"Step7"},{id:"Step8"},{id:"Step9"},{id:"Step10"},{id:"Step11"}]},{title0:t(({value:l,isActive:n})=>a[8]||(a[8]=[i("Step1")])),title1:t(({value:l,isActive:n})=>a[9]||(a[9]=[i("Step2")])),title2:t(({value:l,isActive:n})=>a[10]||(a[10]=[i("Step3")])),title3:t(({value:l,isActive:n})=>a[11]||(a[11]=[i("Step4")])),title4:t(({value:l,isActive:n})=>a[12]||(a[12]=[i("Step5")])),title5:t(({value:l,isActive:n})=>a[13]||(a[13]=[i("Step6")])),title6:t(({value:l,isActive:n})=>a[14]||(a[14]=[i("Step7")])),title7:t(({value:l,isActive:n})=>a[15]||(a[15]=[i("Step8")])),title8:t(({value:l,isActive:n})=>a[16]||(a[16]=[i("Step9")])),title9:t(({value:l,isActive:n})=>a[17]||(a[17]=[i("Step10")])),title10:t(({value:l,isActive:n})=>a[18]||(a[18]=[i("Step11")])),tab0:t(({value:l,isActive:n})=>a[19]||(a[19]=[s("figure",null,[s("img",{src:"http://101.43.49.28:9000/blog/尝试与回退1.png",alt:"尝试与回退",tabindex:"0",loading:"lazy"}),s("figcaption",null,"尝试与回退")],-1)])),tab1:t(({value:l,isActive:n})=>a[20]||(a[20]=[s("figure",null,[s("img",{src:"http://101.43.49.28:9000/blog/尝试与回退2.png",alt:"尝试与回退",tabindex:"0",loading:"lazy"}),s("figcaption",null,"尝试与回退")],-1)])),tab2:t(({value:l,isActive:n})=>a[21]||(a[21]=[s("figure",null,[s("img",{src:"http://101.43.49.28:9000/blog/尝试与回退3.png",alt:"尝试与回退",tabindex:"0",loading:"lazy"}),s("figcaption",null,"尝试与回退")],-1)])),tab3:t(({value:l,isActive:n})=>a[22]||(a[22]=[s("figure",null,[s("img",{src:"http://101.43.49.28:9000/blog/尝试与回退4.png",alt:"尝试与回退",tabindex:"0",loading:"lazy"}),s("figcaption",null,"尝试与回退")],-1)])),tab4:t(({value:l,isActive:n})=>a[23]||(a[23]=[s("figure",null,[s("img",{src:"http://101.43.49.28:9000/blog/尝试与回退5.png",alt:"尝试与回退",tabindex:"0",loading:"lazy"}),s("figcaption",null,"尝试与回退")],-1)])),tab5:t(({value:l,isActive:n})=>a[24]||(a[24]=[s("figure",null,[s("img",{src:"http://101.43.49.28:9000/blog/尝试与回退6.png",alt:"尝试与回退",tabindex:"0",loading:"lazy"}),s("figcaption",null,"尝试与回退")],-1)])),tab6:t(({value:l,isActive:n})=>a[25]||(a[25]=[s("figure",null,[s("img",{src:"http://101.43.49.28:9000/blog/尝试与回退7.png",alt:"尝试与回退",tabindex:"0",loading:"lazy"}),s("figcaption",null,"尝试与回退")],-1)])),tab7:t(({value:l,isActive:n})=>a[26]||(a[26]=[s("figure",null,[s("img",{src:"http://101.43.49.28:9000/blog/尝试与回退8.png",alt:"尝试与回退",tabindex:"0",loading:"lazy"}),s("figcaption",null,"尝试与回退")],-1)])),tab8:t(({value:l,isActive:n})=>a[27]||(a[27]=[s("figure",null,[s("img",{src:"http://101.43.49.28:9000/blog/尝试与回退9.png",alt:"尝试与回退",tabindex:"0",loading:"lazy"}),s("figcaption",null,"尝试与回退")],-1)])),tab9:t(({value:l,isActive:n})=>a[28]||(a[28]=[s("figure",null,[s("img",{src:"http://101.43.49.28:9000/blog/尝试与回退10.png",alt:"尝试与回退",tabindex:"0",loading:"lazy"}),s("figcaption",null,"尝试与回退")],-1)])),tab10:t(({value:l,isActive:n})=>a[29]||(a[29]=[s("figure",null,[s("img",{src:"http://101.43.49.28:9000/blog/尝试与回退11.png",alt:"尝试与回退",tabindex:"0",loading:"lazy"}),s("figcaption",null,"尝试与回退")],-1)])),_:1}),a[66]||(a[66]=k('<h3 id="剪枝" tabindex="-1"><a class="header-anchor" href="#剪枝"><span>剪枝</span></a></h3><p>复杂的回溯问题通常包含一个或多个约束条件，<strong>约束条件通常可用于“剪枝”</strong>。</p><div class="hint-container info"><p class="hint-container-title">问题</p><p>在二叉树中搜索所有值为 7 的节点，请返回根节点到这些节点的路径，<strong>并要求路径中不包含值为 3 的节点</strong>。</p></div><p>为了满足以上约束条件，<strong>我们需要添加剪枝操作</strong>：在搜索过程中，若遇到值为 3 的节点，则提前返回，不再继续搜索。代码如下所示：</p>',4)),e(h,{id:"137",data:[{id:"c++"},{id:"java"}],"tab-id":"code"},{title0:t(({value:l,isActive:n})=>a[30]||(a[30]=[i("c++")])),title1:t(({value:l,isActive:n})=>a[31]||(a[31]=[i("java")])),tab0:t(({value:l,isActive:n})=>a[32]||(a[32]=[s("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 前序遍历：例题三 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"TreeNode"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," *"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 剪枝")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (root "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"=="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," nullptr"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#56B6C2"}}," ||"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"->"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"val"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," =="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 3"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 尝试")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    path"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(root);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"->"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"val"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," =="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 7"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(path);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"->"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"left"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"->"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"right"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 回退")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    path"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"pop_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"();")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:t(({value:l,isActive:n})=>a[33]||(a[33]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"shiki","data-ext":"java",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 前序遍历：例题三 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," root) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 剪枝")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," (root "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"=="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," null"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," ||"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"val"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," =="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 3"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 尝试")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    path"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(root);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"val"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," =="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 7"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>(path));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"left"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},")"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    preOrder"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"root"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"right"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},")"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 回退")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    path"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"remove"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"path"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"() "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[67]||(a[67]=s("p",null,[i("​ “剪枝”是一个非常形象的名词。如下图所示，在搜索过程中，"),s("strong",null,"我们“剪掉”了不满足约束条件的搜索分支"),i("，避免许多无意义的尝试，从而提高了搜索效率。")],-1)),a[68]||(a[68]=s("figure",null,[s("img",{src:"http://101.43.49.28:9000/blog/根据约束条件剪枝.png",alt:"根据约束条件剪枝",tabindex:"0",loading:"lazy"}),s("figcaption",null,"根据约束条件剪枝")],-1)),a[69]||(a[69]=s("h3",{id:"框架代码",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#框架代码"},[s("span",null,"框架代码")])],-1)),a[70]||(a[70]=s("p",null,"接下来，尝试将回溯的“尝试、回退、剪枝”的主体框架提炼出来，提升代码的通用性。",-1)),a[71]||(a[71]=s("p",null,"在以下框架代码中，state 表示问题的当前状态，choices 表示当前状态下可以做出的选择：",-1)),e(h,{id:"160",data:[{id:"c++"},{id:"java"}],"tab-id":"code"},{title0:t(({value:l,isActive:n})=>a[34]||(a[34]=[i("c++")])),title1:t(({value:l,isActive:n})=>a[35]||(a[35]=[i("java")])),tab0:t(({value:l,isActive:n})=>a[36]||(a[36]=[s("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法框架 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"State"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," *"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Choice"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," *"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"State"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," *"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 判断是否为解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"isSolution"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state)) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"        recordSolution"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, res);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 不再继续搜索")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (Choice choice : choices) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝：判断选择是否合法")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"isValid"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, choice)) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 尝试：做出选择，更新状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"            makeChoice"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, choice);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"            backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, choices, res);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 回退：撤销选择，恢复到之前的状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"            undoChoice"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, choice);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:t(({value:l,isActive:n})=>a[37]||(a[37]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"shiki","data-ext":"java",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 判断当前状态是否为解 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"boolean"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," isSolution"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," !"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"isEmpty"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," &&"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"get"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"() "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"val"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," =="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 7"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 记录解 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," recordSolution"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>(state));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 判断在当前状态下，该选择是否合法 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"boolean"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," isValid"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choice) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choice "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"!="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," null"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," &&"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choice"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"val"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," !="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 3"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 更新状态 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," makeChoice"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choice) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(choice);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 恢复状态 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," undoChoice"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choice) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"remove"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"() "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：例题三 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"TreeNode"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 检查是否为解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"isSolution"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state)) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"        recordSolution"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"TreeNode"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," choice "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},":"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝：检查选择是否合法")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"isValid"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choice)) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 尝试：做出选择，更新状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"            makeChoice"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choice)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 进行下一轮选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"            backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," Arrays"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"asList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"choice"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"left"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"choice"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"right"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"),"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 回退：撤销选择，恢复到之前的状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"            undoChoice"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choice)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[72]||(a[72]=k('<p>​ 根据题意，在找到值为 7 的节点后应该继续搜索，<strong>因此需要将记录解之后的 return 语句删除</strong>。下图对比了保留或删除 return 语句的搜索过程。</p><figure><img src="http://101.43.49.28:9000/blog/保留与删除return的搜索过程对比.png" alt="保留与删除 return 的搜索过程对比" tabindex="0" loading="lazy"><figcaption>保留与删除 return 的搜索过程对比</figcaption></figure><p>​ 相比基于前序遍历的代码实现，基于回溯算法框架的代码实现虽然显得啰嗦，但通用性更好。实际上，<strong>许多回溯问题可以在该框架下解决</strong>。只需根据具体问题来定义 state 和 choices，并实现框架中的各个方法即可。</p><h3 id="常用术语" tabindex="-1"><a class="header-anchor" href="#常用术语"><span>常用术语</span></a></h3><p>​ 为了更清晰地分析算法问题，总结了一下回溯算法中常用术语的含义，并对照之前的三个问题给出对应示例，如下表所示：</p><table><thead><tr><th>名词</th><th>定义</th><th>例题</th></tr></thead><tbody><tr><td>解（solution）</td><td>解是满足问题特定条件的答案，可能有一个或多个</td><td>跟节点到节点 7 的满足约束条件的所有路径</td></tr><tr><td>约束条件（constraint）</td><td>约束条件是问题中限制解的可行性的条件，通常用于剪枝</td><td>路径中不包含节点 3</td></tr><tr><td>状态（state）</td><td>状态表示问题在某一时刻的情况，包括已经做出的选择</td><td>当前已访问的节点路径，即 path 节点列表</td></tr><tr><td>尝试（attempt）</td><td>尝试是根据可用选择来探索解空间的过程，包括做出选择，更新状态，检查是否为解</td><td>递归访问左（右）子节点，将节点添加进 path，判断节点的值是否为 7</td></tr><tr><td>回退（backtracking）</td><td>回退指遇到不满足约束条件的状态时，撤销前面做出的选择，回到上一个状态</td><td>当越过叶节点、结束节点访问、遇到值为 3 的节点时终止搜索，函数返回</td></tr><tr><td>剪枝（pruning）</td><td>剪枝是根据问题特性和约束条件避免无意义的搜索路径的方法，可提高搜索效率</td><td>当遇到值为 3 的节点时，则不再继续搜索</td></tr></tbody></table><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>问题、解、状态等概念是通用的，在分治、回溯、动态规划、贪心等算法中都有涉及。</p></div><h3 id="优点与局限性" tabindex="-1"><a class="header-anchor" href="#优点与局限性"><span>优点与局限性</span></a></h3><p>​ 回溯算法本质上是一种深度优先搜索算法，它尝试所有可能的解决方案直到找到满足条件的解。这种方法的优点在于能够找到所有可能的解决方案，而且在合理的剪枝操作下，具有很高的效率。</p><p>然而，在处理大规模或者复杂问题时，<strong>回溯算法的运行效率可能难以接受</strong>。</p><ul><li><strong>时间</strong>：回溯算法通常需要遍历状态空间的所有可能，时间复杂度可以达到指数阶或阶乘阶。</li><li><strong>空间</strong>：在递归调用中需要保存当前的状态（例如路径、用于剪枝的辅助变量等），当深度很大时，空间需求可能会变得很大。</li></ul><p>即便如此，<strong>回溯算法仍然是某些搜索问题和约束满足问题的最佳解决方案</strong>。对于这些问题，由于无法预测哪些选择可生成有效的解，因此我们必须对所有可能的选择进行遍历。在这种情况下，<strong>关键是如何优化效率</strong>，常见的效率优化方案有两种：</p><ul><li><strong>剪枝</strong>：避免搜索那些肯定不会产生解的路径，从而节省时间和空间。</li><li><strong>启发式搜索</strong>：在搜索过程中引入一些策略或者估计值，从而优先搜索最有可能产生有效解的路径。</li></ul><h3 id="回溯典型例题" tabindex="-1"><a class="header-anchor" href="#回溯典型例题"><span>回溯典型例题</span></a></h3><p>回溯算法可用于解决许多搜索问题、约束满足问题和组合优化问题。</p><p><strong>搜索问题</strong>：这里问题的目标是找到满足特定条件的解决方案。</p><ul><li>全排列问题：给定一个集合，求出其所有可能的排列组合。</li><li>子集和问题：给定一个集合和一个目标和，找到集合中所有和为目标和的子集。</li><li>汉诺塔问题：给定三根柱子和一系列大小不同的圆盘，要求将所有圆盘从一根柱子移动到另一根柱子，每次只能移动一个圆盘，且不能将大圆盘放在小圆盘上。</li></ul><p><strong>约束满足问题</strong>：这类问题的目标是找到满足所有约束条件的解。</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 皇后：在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n\\times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 的棋盘上放置 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 个皇后，使得它们互不攻击。</li><li>数独：在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn><mo>×</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">9\\times 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span></span></span></span> 的网格中填入数组 1~9，使得每行、每列和每个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">3\\times 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> 子网格中的数字不重复。</li><li>图着色问题：给定一个无向图，用最少的颜色给图的每个顶点着色，使得相邻顶点颜色不同。</li></ul><p><strong>组合优化问题</strong>：这类问题的目标是在一个组合空间中找到满足某些条件的最优解。</p><ul><li>0-1 背包问题：给定一组物品和一个背包，每个物品有一定的价值和重量，要求在背包容量限制内，选择物品使得总价值最大。</li><li>旅行商问题：给一个图中，从一个点出发，访问所有其他点恰好一次后返回起点，求最短路径。</li><li>最大团问题：给定一个无向图，找到最大的完全子图，即子图中的任意两个顶点之间都有边相连。</li></ul><p>请注意，对于许多组合优化问题，回溯不是最优解决方案。</p><ul><li>0-1背包问题通常使用动态规划解决，以达到更高的时间效率。</li><li>旅行商是一个著名的 NP-Hard 问题，常用解法有遗传算法和蚁群算法等。</li><li>最大团问题是图论中的一个经典问题，可用贪心算法等启发式算法来解决。</li></ul><h2 id="全排列问题" tabindex="-1"><a class="header-anchor" href="#全排列问题"><span>全排列问题</span></a></h2><hr><p>​ 全排列问题是回溯算法的一个典型应用。它的定义是在给定一个集合（如一个数组或字符串）的情况下，找出其中元素的所有可能的排列。</p><p>下表列举了几个示例数据，包括输入数组和对应的所有排列。</p><table><thead><tr><th>输入数组</th><th>所有排列</th></tr></thead><tbody><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span></td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,2,3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,2,3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,3,2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2,1,3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2,3,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3,1,2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3,2,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></td></tr></tbody></table><h3 id="无相等元素的情况" tabindex="-1"><a class="header-anchor" href="#无相等元素的情况"><span>无相等元素的情况</span></a></h3><div class="hint-container info"><p class="hint-container-title">问题</p><p>输入一个整数数组，其中不包含重复元素，返回所有可能的排列。</p></div><p>​ 从回溯算法的角度看，<strong>可以把生成排列的过程想象成一系列选择的结果</strong>。假设输入数组为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,2,3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span>，如果先选择 1，再选择 3，最后选择 2，则获得排列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,3,2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span>。回退表示撤销一个选择，之后继续尝试其他选择。</p><p>​ 从回溯代码的角度看，候选集合 choices 是输入数组中的所有元素，状态 state 是直至目前已被选择的元素。请注意，每个元素只允许被选择一次，<strong>因此 state 中的所有元素都应该是唯一的</strong>。</p><p>​ 如下图所示，可以将搜索过程展开才成一颗递归树，树中的每个节点代表当前状态 state。从根节点开始，经过三轮选择后到达叶节点，每个叶节点都对应一个排列。</p><figure><img src="http://101.43.49.28:9000/blog/全排列的递归树.png" alt="全排列的递归树" tabindex="0" loading="lazy"><figcaption>全排列的递归树</figcaption></figure><h4 id="重复选择剪枝" tabindex="-1"><a class="header-anchor" href="#重复选择剪枝"><span>重复选择剪枝</span></a></h4><p>​ 为了实现每个元素只被选择一次，我们考虑引入一个布尔型数组 selected，其中 selected[i] 表示 choices[i] 是否已被选择，并基于它实现以下剪枝操作。</p><ul><li>在做出选择 choice[i] 后，就将 selected[i] 赋值为 <strong>True</strong>，代表它已被选择。</li><li>遍历选择列表 choices 时，跳过所有已被选择的节点，即剪枝。</li></ul><p>如下图所示。假设第一轮选择 1，第二轮选择 3，第三轮选择 2，则需要在第二轮剪掉元素 1 的分支，在第三轮剪掉元素 1 和元素 3 的分支。</p><figure><img src="http://101.43.49.28:9000/blog/全排列剪枝示例.png" alt="全排列剪枝示例" tabindex="0" loading="lazy"><figcaption>全排列剪枝示例</figcaption></figure><p>观察上图发现，该剪枝操作将搜索空间大小从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ο(n^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 减小至 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">!</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ο(n!)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">!)</span></span></span></span>。</p><h4 id="代码实现" tabindex="-1"><a class="header-anchor" href="#代码实现"><span>代码实现</span></a></h4>',41)),e(h,{id:"491",data:[{id:"c++"},{id:"java"}],"tab-id":"code"},{title0:t(({value:l,isActive:n})=>a[38]||(a[38]=[i("c++")])),title1:t(({value:l,isActive:n})=>a[39]||(a[39]=[i("java")])),tab0:t(({value:l,isActive:n})=>a[40]||(a[40]=[s("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：全排列 I */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"const"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"bool"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 当状态长度等于元素数量时，记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"() "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"=="),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"()) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"; i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(); i"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," choice "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i];")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝：不允许重复选择元素")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#56B6C2"}},"!"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i]) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 尝试：做出选择，更新状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," true"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(choice);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 进行下一轮选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"            backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, choices, selected, res);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 回退：撤销选择，恢复到之前的状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," false"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"pop_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"();")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 全排列 I */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">> "),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"permutationsI"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<int>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," state;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<bool>"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(), "),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"false"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<int>>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," res;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, nums, selected, res);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," res;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:t(({value:l,isActive:n})=>a[41]||(a[41]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"shiki","data-ext":"java",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：全排列 I */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," boolean"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 当状态长度等于元素数量时，记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," =="),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"length"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">(state));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"length"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," choice "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices[i]"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝：不允许重复选择元素")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"!"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"selected[i]) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 尝试：做出选择，更新状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"            selected[i] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," true"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(choice);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 进行下一轮选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"            backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 回退：撤销选择，恢复到之前的状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"            selected[i] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," false"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"remove"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"() "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 全排列 I */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," permutationsI"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] nums) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">>"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," res "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," boolean"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"["),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"length"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"]"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[73]||(a[73]=k('<h3 id="考虑相等元素的情况" tabindex="-1"><a class="header-anchor" href="#考虑相等元素的情况"><span>考虑相等元素的情况</span></a></h3><div class="hint-container info"><p class="hint-container-title">问题</p><p>输入一个整数数组，<strong>数组中可能包含重复元素</strong>，返回所有不重复的排列。</p></div><p>假设输入数组为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1,1,2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span>。为了方便区分两个重复元素 1，将第二个 1 记为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mn>1</mn><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\\hat{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9079em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9079em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span><span style="top:-3.2134em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span></span></span></span>。</p><p>如下图所示，上诉方法生成的排列有一半是重复的。</p><figure><img src="http://101.43.49.28:9000/blog/重复排列.png" alt="重复排列" tabindex="0" loading="lazy"><figcaption>重复排列</figcaption></figure><p>​ 如何可以去除重复的排列？最直接的方法是考虑借助一个哈希表，直接对排列结果进行去重。然而这样做不够优雅，<strong>因为生成重复排列的搜索分支没有必要，应当提前识别并剪枝</strong>，这样可以进一步提升算法效率。</p><h4 id="相等元素剪枝" tabindex="-1"><a class="header-anchor" href="#相等元素剪枝"><span>相等元素剪枝</span></a></h4><p>​ 观察下图，在第一轮中，选择 1 或选择 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mn>1</mn><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\\hat{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9079em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9079em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span><span style="top:-3.2134em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span></span></span></span> 是等价的，在两个选择之下生成的所有排列都是重复的。因此应该把 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mn>1</mn><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\\hat{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9079em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9079em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span><span style="top:-3.2134em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span></span></span></span> 剪枝。</p><p>​ 同理，在第一轮选择 2 之后，第二轮选择中的 1 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mn>1</mn><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\\hat{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9079em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9079em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span><span style="top:-3.2134em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span></span></span></span> 也会产生重复分支，因此也应将第二轮的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mn>1</mn><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\\hat{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9079em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9079em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span><span style="top:-3.2134em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span></span></span></span> 剪枝。</p><p>​ 从本质上看，<strong>目标是在某一轮选择中，保证多个相等的元素仅被选择一次</strong>。</p><figure><img src="http://101.43.49.28:9000/blog/重复排列剪枝.png" alt="重复排列剪枝" tabindex="0" loading="lazy"><figcaption>重复排列剪枝</figcaption></figure><h4 id="代码实现-1" tabindex="-1"><a class="header-anchor" href="#代码实现-1"><span>代码实现</span></a></h4><p>​ 在上一题的代码的基础上，考虑在每一轮选择中开启一个哈希表 duplicated，用于记录该轮中已经尝试过的元素，并将重复元素剪枝：</p>',13)),e(h,{id:"540",data:[{id:"c++"},{id:"java"}],"tab-id":"code"},{title0:t(({value:l,isActive:n})=>a[42]||(a[42]=[i("c++")])),title1:t(({value:l,isActive:n})=>a[43]||(a[43]=[i("java")])),tab0:t(({value:l,isActive:n})=>a[44]||(a[44]=[s("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：全排列 II */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"const"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"bool"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 当状态长度等于元素数量时，记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"() "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"=="),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"()) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    unordered_set"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<int>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," duplicated;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"; i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(); i"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," choice "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i];")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝：不允许重复选择元素 且 不允许重复选择相等元素")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#56B6C2"}},"!"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#56B6C2"}},"&&"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," duplicated"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"find"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(choice) "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"=="),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," duplicated"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"end"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"()) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 尝试：做出选择，更新状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            duplicated"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"emplace"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(choice);"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 记录选择过的元素值")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," true"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(choice);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 进行下一轮选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"            backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, choices, selected, res);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 回退：撤销选择，恢复到之前的状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," false"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"pop_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"();")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 全排列 II */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">> "),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"permutationsII"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<int>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," state;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<bool>"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(), "),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"false"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<int>>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," res;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, nums, selected, res);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," res;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:t(({value:l,isActive:n})=>a[45]||(a[45]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"shiki","data-ext":"java",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：全排列 II */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," boolean"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 当状态长度等于元素数量时，记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," =="),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"length"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">(state));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    Set"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," duplicated "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," HashSet"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"length"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," choice "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices[i]"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝：不允许重复选择元素 且 不允许重复选择相等元素")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"!"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"selected[i] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"&&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," !"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"duplicated"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"contains"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(choice)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 尝试：做出选择，更新状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            duplicated"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(choice);"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 记录选择过的元素值")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"            selected[i] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," true"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(choice);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 进行下一轮选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"            backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," selected"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 回退：撤销选择，恢复到之前的状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"            selected[i] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," false"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"remove"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"() "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 全排列 II */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," permutationsII"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] nums) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">>"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," res "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," boolean"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"["),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"length"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"]"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[74]||(a[74]=k('<p>​ 假设元素两两之间互不相同，则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 个元素共有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">n!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span> 种排列（阶乘）；在记录结果时，需要复制长度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 的列表，使用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ο(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 时间，<strong>因此时间复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">!</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ο(n!n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">!</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></strong>。</p><h4 id="两种剪枝对比" tabindex="-1"><a class="header-anchor" href="#两种剪枝对比"><span>两种剪枝对比</span></a></h4><p>请注意，虽然 selected 和 duplicated 都用于剪枝，但两者的目标不同。</p><ul><li><strong>重复选择剪枝</strong>：整个搜索过程中只有一个 selected。它记录的是当前状态中包含哪些元素，其作用是避免某个元素在 state 中重复出现。</li><li><strong>相等元素剪枝</strong>：每轮选择（每个调用的 backtrack 函数）都包含一个 duplicated。它记录的是在本轮遍历（for 循环）中哪些元素已被选择过，其作用是保证相等元素只被选择一次。</li></ul><p>下图展示了两个剪枝条件的生效范围。注意，树中的每个节点代表一个选择，从根节点到叶节点的路径上的各个节点构成一个排列。</p><figure><img src="http://101.43.49.28:9000/blog/两种剪枝条件的作用范围.png" alt="两种剪枝条件的作用范围" tabindex="0" loading="lazy"><figcaption>两种剪枝条件的作用范围</figcaption></figure><h2 id="子集和问题" tabindex="-1"><a class="header-anchor" href="#子集和问题"><span>子集和问题</span></a></h2><hr><h3 id="无重复元素的情况" tabindex="-1"><a class="header-anchor" href="#无重复元素的情况"><span>无重复元素的情况</span></a></h3><div class="hint-container info"><p class="hint-container-title">问题</p><p>给定一个正整数数组 nums 和一个目标正整数 target，请找出所有可能的组合，使得组合中的元素和等于 target。给定数组无重复元素，每个元素可以被选取多次。请以列表形式返回这些组合，列表中不应包含重复组合。</p></div><p>列如，输入集合 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\\{3,4,5\\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">}</span></span></span></span> 和目标整数 9，解为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\\{3,3,3\\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">}</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\\{4,5\\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">}</span></span></span></span>。需要注意以下两点：</p><ul><li>输入集合中的元素可以被无限次重复选取。</li><li>子集不区分元素顺序，比如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\\{4,5\\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">}</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>5</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\\{5,4\\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mclose">}</span></span></span></span> 是同一个子集。</li></ul><h4 id="参考全排列解法" tabindex="-1"><a class="header-anchor" href="#参考全排列解法"><span>参考全排列解法</span></a></h4><p>​ 类似于全排列问题，可以把子集的生成过程想象成一系列选择的结果，并在选择过程中实时更新“元素和”，当元素和等于 target 时，就将子集记录至结果列表。</p><p>​ 而全排列问题不同的是，<strong>本题集合中的元素可以被无限次选取</strong>，因此无须借助 selected 布尔列表来记录元素是否已被选择。我们可以对全排列代码进行小幅修改，初步得到解题代码：</p>',15)),e(h,{id:"611",data:[{id:"c++"},{id:"java"}],"tab-id":"code"},{title0:t(({value:l,isActive:n})=>a[46]||(a[46]=[i("c++")])),title1:t(({value:l,isActive:n})=>a[47]||(a[47]=[i("java")])),tab0:t(({value:l,isActive:n})=>a[48]||(a[48]=[s("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：子集和 I */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," total"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 子集和等于 target 时，记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (total "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"=="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," target) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"size_t"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"; i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(); i"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝：若子集和超过 target ，则跳过该选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (total "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"+"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," target) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"            continue"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 尝试：做出选择，更新元素和 total")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i]);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 进行下一轮选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"        backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, target, total "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"+"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i], choices, res);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 回退：撤销选择，恢复到之前的状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"pop_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"();")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 求解子集和 I（包含重复子集） */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">> "),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"subsetSumINaive"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<int>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," state;"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"       // 状态（子集）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," total "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"           // 子集和")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<int>>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," res;"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 结果列表（子集列表）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, target, total, nums, res);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," res;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:t(({value:l,isActive:n})=>a[49]||(a[49]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"shiki","data-ext":"java",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：子集和 I */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," total"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 子集和等于 target 时，记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," (total "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"=="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>(state));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"length"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝：若子集和超过 target ，则跳过该选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," (total "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"+"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices[i] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"            continue"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 尝试：做出选择，更新元素和 total")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(choices[i]);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 进行下一轮选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"        backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," total "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"+"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices[i]"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 回退：撤销选择，恢复到之前的状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"remove"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"() "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 求解子集和 I（包含重复子集） */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," subsetSumINaive"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," state "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 状态（子集）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," total "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 子集和")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">>"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," res "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 结果列表（子集列表）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," total"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[75]||(a[75]=k('<p>​ 向以上代码输入数组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3,4,5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span> 和目标元素 9，输出结果为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3,3,3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4,5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>5</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[5,4]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mclose">]</span></span></span></span>。<strong>虽然成功找出了所有和为 9 的子集，但其中存在重复的子集 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4,5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>5</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[5,4]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mclose">]</span></span></span></span></strong>。</p><p>​ 这是因为搜索过程是区分选择顺序的，然而子集不区分选择顺序。如下图所示，先选 4 后选 5 与先选 5 后选 4 是不同分支，但对应同一个子集。</p><figure><img src="http://101.43.49.28:9000/blog/子集搜索与越界剪枝.png" alt="子集搜索与越界剪枝" tabindex="0" loading="lazy"><figcaption>子集搜索与越界剪枝</figcaption></figure><p>​ 为了去除重复子集，<strong>一种直接的思路是对结果列表进行去重</strong>。但这个方法效率很低，有以下两种原因：</p><ul><li>当数组元素较多，尤其是当 target 较大时，搜索过程会产生大量的重复子集。</li><li>比较子集（数组）的异同非常耗时，需要先排序数组，再比较数组中每个元素的异同。</li></ul><h4 id="重复子集剪枝" tabindex="-1"><a class="header-anchor" href="#重复子集剪枝"><span>重复子集剪枝</span></a></h4><p>​ <strong>考虑在搜索过程中通过剪枝进行去重</strong>。观察下图，重复子集是在以不同顺序选择数组元素时产生的，例如以下情况：</p><ol><li>当第一轮和第二轮分别选择 3 和 4 时，会生成包含这两个元素的所有子集，记为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3,4,\\cdots]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">]</span></span></span></span>​。</li><li>之后，当第一轮选择 4 时，<strong>则第二轮应该跳过 3</strong>，因为该选择产生的子集 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4,3,\\cdots]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">]</span></span></span></span>​ 和第 1. 步中生成的子集完全重复。</li></ol><p>在搜索过程中，每一层的选择都是从左到右被逐个尝试的，因此越靠右的分支被剪掉的越多。</p><ol><li>前两轮选择 3 和 5，生成子集 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3,5,\\cdots]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">]</span></span></span></span>。</li><li>前两轮选择 4 和 5，生成子集 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4,5,\\cdots]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">]</span></span></span></span>​。</li><li>若第一轮选择 5，<strong>则第二轮应该跳过 3 和 4</strong>，因为子集 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>5</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[5,3,\\cdots]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">]</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>5</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[5,4,\\cdots]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">]</span></span></span></span> 与第 1. 步和第 2. 步中描述的子集完全重复。</li></ol><figure><img src="http://101.43.49.28:9000/blog/不同选择顺序导致的重复子集.png" alt="不同选择顺序导致的重复子集" tabindex="0" loading="lazy"><figcaption>不同选择顺序导致的重复子集</figcaption></figure><p>​ 总结来看，给定输入数组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[x_1,x_2,\\cdots,x_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>，设搜索过程中的选择序列为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>x</mi><msub><mi>i</mi><mn>1</mn></msub></msub><mo separator="true">,</mo><msub><mi>x</mi><msub><mi>i</mi><mn>2</mn></msub></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>x</mi><msub><mi>i</mi><mi>m</mi></msub></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[x_{i_1},x_{i_2},\\cdots,x_{i_m}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>，则该选择序列需要满足 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>1</mn></msub><mo>≤</mo><msub><mi>i</mi><mn>2</mn></msub><mo>≤</mo><mo>⋯</mo><mo>≤</mo><msub><mi>i</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">i_1\\leq i_2\\leq \\cdots \\leq i_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，<strong>不满足该条件的选择序列都会造成重复，应当剪枝</strong>。</p><h4 id="代码实现-2" tabindex="-1"><a class="header-anchor" href="#代码实现-2"><span>代码实现</span></a></h4><p>​ 为了实现该剪枝，我们初始化变量 start，用于指示遍历起始点。<strong>当做出选择 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 后，设定下一轮从索引 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> 开始遍历</strong>。这样做就可以让选择序列满足 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>1</mn></msub><mo>≤</mo><msub><mi>i</mi><mn>2</mn></msub><mo>≤</mo><mo>⋯</mo><mo>≤</mo><msub><mi>i</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">i_1\\leq i_2\\leq \\cdots \\leq i_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，从而保证子集唯一。</p><p>除此之外，代码进行了以下两项优化：</p><ul><li>在开启搜索前，先将数组 nums 排序。在遍历所有选择时，<strong>当子集和超过 target 时结束循环</strong>，因为后面的元素更大，其子集和一定超过 target。</li><li>省去元素和变量 total，<strong>通过在 target 上执行减法来统计元素和</strong>，当 target 等于 0 时记录解。</li></ul>',16)),e(h,{id:"708",data:[{id:"c++"},{id:"java"}],"tab-id":"code"},{title0:t(({value:l,isActive:n})=>a[50]||(a[50]=[i("c++")])),title1:t(({value:l,isActive:n})=>a[51]||(a[51]=[i("java")])),tab0:t(({value:l,isActive:n})=>a[52]||(a[52]=[s("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：子集和 I */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," start"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 子集和等于 target 时，记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (target "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"=="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 剪枝二：从 start 开始遍历，避免生成重复子集")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," start; i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(); i"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝一：若子集和超过 target ，则直接结束循环")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 这是因为数组已排序，后边元素更大，子集和一定超过 target")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (target "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"-"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"            break"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 尝试：做出选择，更新 target, start")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i]);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 进行下一轮选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"        backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, target "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"-"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i], choices, i, res);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 回退：撤销选择，恢复到之前的状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"pop_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"();")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 求解子集和 I */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">> "),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"subsetSumI"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<int>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," state;"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"              // 状态（子集）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    sort"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"begin"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(), "),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"end"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"());"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 对 nums 进行排序")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," start "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"                  // 遍历起始点")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<int>>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," res;"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 结果列表（子集列表）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, target, nums, start, res);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," res;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:t(({value:l,isActive:n})=>a[53]||(a[53]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"shiki","data-ext":"java",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：子集和 I */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," start"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 子集和等于 target 时，记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," (target "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"=="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>(state));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 剪枝二：从 start 开始遍历，避免生成重复子集")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," start"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"length"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝一：若子集和超过 target ，则直接结束循环")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 这是因为数组已排序，后边元素更大，子集和一定超过 target")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," (target "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices[i] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"            break"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 尝试：做出选择，更新 target, start")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(choices[i]);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 进行下一轮选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"        backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices[i]"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 回退：撤销选择，恢复到之前的状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"remove"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"() "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 求解子集和 I */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," subsetSumI"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," state "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 状态（子集）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    Arrays"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sort"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(nums);"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 对 nums 进行排序")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," start "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 遍历起始点")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">>"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," res "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 结果列表（子集列表）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," start"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[76]||(a[76]=k('<p>下图所示为数组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3,4,5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span> 和目标元素 9 输入以上代码后的整体回溯过程。</p><figure><img src="http://101.43.49.28:9000/blog/子集和I回溯过程.png" alt="子集和 I 回溯过程" tabindex="0" loading="lazy"><figcaption>子集和 I 回溯过程</figcaption></figure><h3 id="考虑重复元素的情况" tabindex="-1"><a class="header-anchor" href="#考虑重复元素的情况"><span>考虑重复元素的情况</span></a></h3><div class="hint-container info"><p class="hint-container-title">问题</p><p>给定一个正整数数组 nums 和一个目标正整数 target，请找出所有可能的组合，使得组合中的元素和等于 target。<strong>给定数组可能包含重复元素，每个元素只可被选择一次</strong>。请以列表形式返回这些组合，列表中不应包含重复组合。</p></div><p>​ 相比于上题，<strong>本题的输入数组可能包含重复元素</strong>，这引入了新的问题。例如，给定数组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mover accent="true"><mn>4</mn><mo>^</mo></mover><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4,\\hat{4},5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1579em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9079em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord">4</span></span><span style="top:-3.2134em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span> 和目标元素 9，则现有代码的输出结果为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4,5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mover accent="true"><mn>4</mn><mo>^</mo></mover><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[\\hat{4},5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1579em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9079em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord">4</span></span><span style="top:-3.2134em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span>，出现了重复子集。</p><p>​ <strong>造成这种重复的原因是相等元素在某轮中被多次选择</strong>。如下图中，第一轮共有三个选择，其中两个都为 4，会产生两个重复的搜索分支，从而输出重复子集；同理，第二轮的两个 4 也会产生重复子集。</p><figure><img src="http://101.43.49.28:9000/blog/相等元素导致的重复子集.png" alt="相等元素导致的重复子集" tabindex="0" loading="lazy"><figcaption>相等元素导致的重复子集</figcaption></figure><h4 id="相等元素剪枝-1" tabindex="-1"><a class="header-anchor" href="#相等元素剪枝-1"><span>相等元素剪枝</span></a></h4><p>​ 为了解决此问题，<strong>需要限制相等元素在每一轮中只能被选择一次</strong>。实现方式比较巧妙：由于数组是已排序的，因此相等元素都是相邻的。这意味着在某轮选择中，若当前元素与其左边元素相等，则说明它已经被选择过，因此直接跳过当前元素。</p><p>​ 与此同时，<strong>本题规定每个数组元素只能被选择一次</strong>。幸运的是，可以利用变量 start 来满足该约束：当做出选择 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 后，设定下一轮从索引 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7429em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 开始向后遍历。这样既能去除重复子集，也能避免重复选择元素。</p><h4 id="代码实现-3" tabindex="-1"><a class="header-anchor" href="#代码实现-3"><span>代码实现</span></a></h4>',11)),e(h,{id:"751",data:[{id:"c++"},{id:"java"}],"tab-id":"code"},{title0:t(({value:l,isActive:n})=>a[54]||(a[54]=[i("c++")])),title1:t(({value:l,isActive:n})=>a[55]||(a[55]=[i("java")])),tab0:t(({value:l,isActive:n})=>a[56]||(a[56]=[s("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：子集和 II */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," start"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 子集和等于 target 时，记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (target "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"=="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 剪枝二：从 start 开始遍历，避免生成重复子集")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 剪枝三：从 start 开始遍历，避免重复选择同一元素")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," start; i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(); i"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝一：若子集和超过 target ，则直接结束循环")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 这是因为数组已排序，后边元素更大，子集和一定超过 target")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (target "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"-"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"            break"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝四：如果该元素与左边元素相等，说明该搜索分支重复，直接跳过")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," start "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#56B6C2"}},"&&"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"=="),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"]) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"            continue"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 尝试：做出选择，更新 target, start")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i]);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 进行下一轮选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"        backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, target "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"-"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[i], choices, i "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"+"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", res);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 回退：撤销选择，恢复到之前的状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"pop_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"();")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 求解子集和 II */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">> "),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"subsetSumII"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<int>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," state;"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"              // 状态（子集）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    sort"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"begin"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(), "),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"end"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"());"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 对 nums 进行排序")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," start "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"                  // 遍历起始点")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<int>>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," res;"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 结果列表（子集列表）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state, target, nums, start, res);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," res;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:t(({value:l,isActive:n})=>a[57]||(a[57]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"shiki","data-ext":"java",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：子集和 II */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," start"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 子集和等于 target 时，记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," (target "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"=="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>(state));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 剪枝二：从 start 开始遍历，避免生成重复子集")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 剪枝三：从 start 开始遍历，避免重复选择同一元素")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," start"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"length"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝一：若子集和超过 target ，则直接结束循环")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 这是因为数组已排序，后边元素更大，子集和一定超过 target")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," (target "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices[i] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"            break"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝四：如果该元素与左边元素相等，说明该搜索分支重复，直接跳过")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," (i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," start "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"&&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices[i] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"=="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices[i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"]) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"            continue"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 尝试：做出选择，更新 target, start")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(choices[i]);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 进行下一轮选择")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"        backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices[i]"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," choices"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"+"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 回退：撤销选择，恢复到之前的状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"remove"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"size"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"() "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 求解子集和 II */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"Integer"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," subsetSumII"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," state "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 状态（子集）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"    Arrays"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sort"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(nums);"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 对 nums 进行排序")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," start "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 遍历起始点")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"Integer"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">>"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," res "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 结果列表（子集列表）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," target"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," nums"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," start"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[77]||(a[77]=k('<p>下图展示了数组 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4,4,5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span> 和目标元素 9 的回溯过程，共包含四种剪枝操作。</p><figure><img src="http://101.43.49.28:9000/blog/子集和II回溯过程.png" alt="子集和 II 回溯过程" tabindex="0" loading="lazy"><figcaption>子集和 II 回溯过程</figcaption></figure><h2 id="n-皇后问题" tabindex="-1"><a class="header-anchor" href="#n-皇后问题"><span>n 皇后问题</span></a></h2><hr><div class="hint-container info"><p class="hint-container-title">问题</p><p>根据国际象棋的规则，皇后可以攻击与同处一行、一列或一条斜线上的棋子。给定 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 个皇后和一个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n\\times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 大小的棋盘，寻找使得所有皇后之间无法互相攻击的摆放方案。</p></div><p>​ 如下图所示，当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">n=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> 时，共可以找到两个解。从回溯算法的角度看，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n\\times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 大小的棋盘共有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">n^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> 个格子，给出了所有的选择 choices。在逐个放置皇后的过程中，棋盘状态在不断地变化，每个时刻的棋盘就是状态 state。</p><figure><img src="http://101.43.49.28:9000/blog/4皇后问题的解.png" alt="4 皇后问题的解" tabindex="0" loading="lazy"><figcaption>4 皇后问题的解</figcaption></figure><p>​ 下图展示了本题的三个约束条件：<strong>多个皇后不能再同一行、同一列、同一条对角线上</strong>。值得注意的是，对角线分为主对角线 \\ 和次对角线 / 两种。</p><figure><img src="http://101.43.49.28:9000/blog/n皇后问题的约束条件.png" alt="n 皇后问题的约束条件" tabindex="0" loading="lazy"><figcaption>n 皇后问题的约束条件</figcaption></figure><h3 id="逐行放置策略" tabindex="-1"><a class="header-anchor" href="#逐行放置策略"><span>逐行放置策略</span></a></h3><p>​ 皇后的数量和棋盘的行数都为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>，因此可以得到一个推论：<strong>棋盘每行都允许且只允许放置一个皇后</strong>。</p><p>​ 也就是说，可以采取逐行放置过程。受画幅限制，下图仅展开了第一行的其中一个搜索分支，并且将不满足列约束和对角线约束的方案都进行了剪枝。</p><figure><img src="http://101.43.49.28:9000/blog/逐行放置策略.png" alt="逐行放置策略" tabindex="0" loading="lazy"><figcaption>逐行放置策略</figcaption></figure><p>​ 从本质上看，<strong>逐行放置策略起到了剪枝的作用</strong>，它避免了同一行出现多个皇后的所有搜索分支。</p><h3 id="列与对角线剪枝" tabindex="-1"><a class="header-anchor" href="#列与对角线剪枝"><span>列与对角线剪枝</span></a></h3><p>​ 为了满足列约束，可以利用一个长度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 的布尔型数组 cols 记录每一列是否有皇后。在每次决定放置前，通过 cols 将已有皇后的列进行剪枝，并在回溯中动态更新 cols 的状态。</p><p>​ 那么，如何处理对角线约束呢？设棋盘中某个格子的行列索引为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>r</mi><mi>o</mi><mi>w</mi><mo separator="true">,</mo><mi>c</mi><mi>o</mi><mi>l</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(row,col)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">)</span></span></span></span>，选定矩阵中的某条主对角线，可以发现该对角线上所有格子的行索引减列索引都相等，<strong>即对角线上所有格子的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>o</mi><mi>w</mi><mo>−</mo><mi>c</mi><mi>o</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">row-col</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> 为恒定值</strong>。</p><p>​ 也就是说，如果两个格子满足 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>o</mi><msub><mi>w</mi><mn>1</mn></msub><mo>−</mo><mi>c</mi><mi>o</mi><msub><mi>l</mi><mn>1</mn></msub><mo>=</mo><mi>r</mi><mi>o</mi><msub><mi>w</mi><mn>2</mn></msub><mo>−</mo><mi>c</mi><mi>o</mi><msub><mi>l</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">row_1-col_1=row_2-col_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord mathnormal">ro</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord mathnormal">ro</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，则它们一定处在同一条主对角线上。利用该规律，可以借助下图所示的数组 diags1 记录每条主对角线上是否有皇后。</p><p>​ 同理，<strong>次对角线上的所有格子的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>o</mi><mi>w</mi><mo>+</mo><mi>c</mi><mi>o</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">row+col</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> 是恒定值</strong>。同样也可以借助数组 diags2 来处理次对角线约束。</p><figure><img src="http://101.43.49.28:9000/blog/处理列约束和对角线约束.png" alt="处理列约束和对角线约束" tabindex="0" loading="lazy"><figcaption>处理列约束和对角线约束</figcaption></figure><h3 id="代码实现-4" tabindex="-1"><a class="header-anchor" href="#代码实现-4"><span>代码实现</span></a></h3><p>​ 请注意，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 维方阵中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>o</mi><mi>w</mi><mo>−</mo><mi>c</mi><mi>o</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">row-col</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> 的范围是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-n+1,n-1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>o</mi><mi>w</mi><mo>+</mo><mi>c</mi><mi>o</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">row+col</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> 的范围是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>2</mn><mi>n</mi><mo>−</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,2n-2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span>，所以主对角线和次对角线的数量都为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，即数组 diags1 和 diags2 的长度都为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>。</p>',22)),e(h,{id:"825",data:[{id:"c++"},{id:"java"}],"tab-id":"code"},{title0:t(({value:l,isActive:n})=>a[58]||(a[58]=[i("c++")])),title1:t(({value:l,isActive:n})=>a[59]||(a[59]=[i("java")])),tab0:t(({value:l,isActive:n})=>a[60]||(a[60]=[s("div",{class:"language-cpp line-numbers-mode","data-highlighter":"shiki","data-ext":"cpp",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：n 皇后 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," row"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," n"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"string"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"string"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">>> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"bool"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"cols"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"               vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"bool"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"diags1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"bool"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"> "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"diags2"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 当放置完所有行时，记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (row "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"=="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," n) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"push_back"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(state);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有列")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," col "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"; col "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," n; col"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 计算该格子对应的主对角线和次对角线")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," diag1 "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," row "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"-"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," col "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"+"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," n "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," diag2 "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," row "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"+"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," col;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝：不允许该格子所在列、主对角线、次对角线上存在皇后")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#56B6C2"}},"!"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"cols"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[col] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#56B6C2"}},"&&"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#56B6C2"}}," !"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"diags1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[diag1] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#56B6C2"}},"&&"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#56B6C2"}}," !"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"diags2"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[diag2]) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 尝试：将皇后放置在该格子")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[row][col] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "Q"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            cols"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[col] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," diags1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[diag1] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," diags2"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[diag2] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," true"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 放置下一行")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"            backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(row "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"+"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", n, state, res, cols, diags1, diags2);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 回退：将该格子恢复为空位")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[row][col] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "#"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            cols"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[col] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," diags1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[diag1] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}}," diags2"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[diag2] "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," false"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 求解 n 皇后 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"string"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">>> "),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"nQueens"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," n"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 初始化 n*n 大小的棋盘，其中 'Q' 代表皇后，'#' 代表空位")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"string"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},">>"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(n, "),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"vector"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"string"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},">(n, "),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"#"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<bool>"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," cols"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(n, "),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"false"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"           // 记录列是否有皇后")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<bool>"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," diags1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"2"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," *"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," n "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"false"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 记录主对角线上是否有皇后")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<bool>"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," diags2"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"2"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," *"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," n "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"false"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 记录次对角线上是否有皇后")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"vector"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"string"),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},">>>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," res;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", n, state, res, cols, diags1, diags2);")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," res;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:t(({value:l,isActive:n})=>a[61]||(a[61]=[s("div",{class:"language-java line-numbers-mode","data-highlighter":"shiki","data-ext":"java",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 回溯算法：n 皇后 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"void"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," row"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," n"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"String"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"String"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}},"        boolean"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] cols"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," boolean"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] diags1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," boolean"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[] diags2) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 当放置完所有行时，记录解")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," (row "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"=="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," n) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"        List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"String"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">>"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," copyState "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"String"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," sRow "),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},":"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            copyState"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>(sRow));")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(copyState);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 遍历所有列")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," col "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," col "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," n"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," col"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 计算该格子对应的主对角线和次对角线")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," diag1 "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," row "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," col "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"+"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," n "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," diag2 "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," row "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"+"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," col"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        // 剪枝：不允许该格子所在列、主对角线、次对角线上存在皇后")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        if"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"!"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"cols[col] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"&&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," !"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"diags1[diag1] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"&&"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," !"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"diags2[diag2]) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 尝试：将皇后放置在该格子")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"get"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(row)."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"set"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(col, "),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"Q"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"            cols[col] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," diags1[diag1] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," diags2[diag2] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," true"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 放置下一行")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"            backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"(row "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"+"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," n"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," cols"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," diags1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," diags2)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"            // 回退：将该格子恢复为空位")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"get"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(row)."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"set"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(col, "),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"#"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"            cols[col] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," diags1[diag1] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," diags2[diag2] "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," false"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"/* 求解 n 皇后 */")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"String"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},">>>"),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," nQueens"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," n) {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    // 初始化 n*n 大小的棋盘，其中 'Q' 代表皇后，'#' 代表空位")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"String"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">>"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," state "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," n"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," i"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"        List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"String"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," row "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        for"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," ("),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"int"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," j "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," j "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," n"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," j"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"++"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},") {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"            row"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"#"'),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},");")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"        }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"        state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"add"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(row);")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"    }")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}},"    boolean"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"[] cols "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," boolean"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"[n]"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 记录列是否有皇后")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}},"    boolean"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"[] diags1 "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," boolean"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"["),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"2"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," *"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," n "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"]"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 记录主对角线上是否有皇后")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}},"    boolean"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"[] diags2 "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#C678DD"}}," boolean"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"["),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"2"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," *"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," n "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"-"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"]"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";"),s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}}," // 记录次对角线上是否有皇后")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"List"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"<"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"String"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},">>>"),s("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," res "),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," new"),s("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," ArrayList"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"<>"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"()"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"    backtrack"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"("),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"0"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," n"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," state"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," cols"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," diags1"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," diags2)"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    return"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}}," res"),s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#E06C75"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[78]||(a[78]=k('<p>​ 逐行放置 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 次，考虑列约束，则从第一行到最后一行分别有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mtext>、</mtext><mi>n</mi><mo>−</mo><mn>1</mn><mtext>、</mtext><mo>⋯</mo><mtext>、</mtext><mn>2</mn><mtext>、</mtext><mn>1</mn></mrow><annotation encoding="application/x-tex">n、n-1、\\cdots、2、1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">、</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord cjk_fallback">、</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">、</span><span class="mord">2</span><span class="mord cjk_fallback">、</span><span class="mord">1</span></span></span></span> 个选择，使用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">!</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ο(n!)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">!)</span></span></span></span> 时间。当记录解时，需要复制矩阵 state 并添加进 res，复制操作使用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ο(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 时间，因此，<strong>总体时间复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">!</mo><mo>⋅</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ο(n!\\cdot n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></strong>。实际上，根据对角线约束的剪枝也能够大幅缩小搜索空间，因而搜索效率往往优于以上时间复杂度。</p><p>​ 数组 state 使用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ο(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 空间，数组 cols、diags1 和 diags2 皆使用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ο(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 空间。最大递归深度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>，使用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ο(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 栈帧空间。因此，<strong>空间复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ο(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></strong>。</p>',2))])}const B=p(c,[["render",m]]),F=JSON.parse('{"path":"/posts/algorithm/%E5%9B%9E%E6%BA%AF.html","title":"回溯","lang":"zh-CN","frontmatter":{"icon":"iconfont icon-zu23","category":["算法"],"tag":["回溯"],"date":"2024-04-08T00:00:00.000Z","description":"回溯 回溯算法 ​ 「回溯算法 backtracking algorithm」是一种通过穷举来解决问题的方法，它的核心思想是从一个初始状态出发，暴力搜索所有可能的解决方案，当遇到正确的解则将其记录，直到找到解或者尝试了所有可能的选择都无法找到解为止。 ​ 回溯算法通常采用“深度优先搜索”来遍历解空间。在“二叉树”中，便提到了前序、中序和后序遍历都属于深...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"回溯\\",\\"image\\":[\\"http://101.43.49.28:9000/blog/在前序遍历中搜索节点.png\\",\\"http://101.43.49.28:9000/blog/尝试与回退1.png\\",\\"http://101.43.49.28:9000/blog/尝试与回退2.png\\",\\"http://101.43.49.28:9000/blog/尝试与回退3.png\\",\\"http://101.43.49.28:9000/blog/尝试与回退4.png\\",\\"http://101.43.49.28:9000/blog/尝试与回退5.png\\",\\"http://101.43.49.28:9000/blog/尝试与回退6.png\\",\\"http://101.43.49.28:9000/blog/尝试与回退7.png\\",\\"http://101.43.49.28:9000/blog/尝试与回退8.png\\",\\"http://101.43.49.28:9000/blog/尝试与回退9.png\\",\\"http://101.43.49.28:9000/blog/尝试与回退10.png\\",\\"http://101.43.49.28:9000/blog/尝试与回退11.png\\",\\"http://101.43.49.28:9000/blog/根据约束条件剪枝.png\\",\\"http://101.43.49.28:9000/blog/保留与删除return的搜索过程对比.png\\",\\"http://101.43.49.28:9000/blog/全排列的递归树.png\\",\\"http://101.43.49.28:9000/blog/全排列剪枝示例.png\\",\\"http://101.43.49.28:9000/blog/重复排列.png\\",\\"http://101.43.49.28:9000/blog/重复排列剪枝.png\\",\\"http://101.43.49.28:9000/blog/两种剪枝条件的作用范围.png\\",\\"http://101.43.49.28:9000/blog/子集搜索与越界剪枝.png\\",\\"http://101.43.49.28:9000/blog/不同选择顺序导致的重复子集.png\\",\\"http://101.43.49.28:9000/blog/子集和I回溯过程.png\\",\\"http://101.43.49.28:9000/blog/相等元素导致的重复子集.png\\",\\"http://101.43.49.28:9000/blog/子集和II回溯过程.png\\",\\"http://101.43.49.28:9000/blog/4皇后问题的解.png\\",\\"http://101.43.49.28:9000/blog/n皇后问题的约束条件.png\\",\\"http://101.43.49.28:9000/blog/逐行放置策略.png\\",\\"http://101.43.49.28:9000/blog/处理列约束和对角线约束.png\\"],\\"datePublished\\":\\"2024-04-08T00:00:00.000Z\\",\\"dateModified\\":\\"2025-04-30T01:23:37.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.O\\"}]}"],["meta",{"property":"og:url","content":"https://blog.sylphy.me/posts/algorithm/%E5%9B%9E%E6%BA%AF.html"}],["meta",{"property":"og:title","content":"回溯"}],["meta",{"property":"og:description","content":"回溯 回溯算法 ​ 「回溯算法 backtracking algorithm」是一种通过穷举来解决问题的方法，它的核心思想是从一个初始状态出发，暴力搜索所有可能的解决方案，当遇到正确的解则将其记录，直到找到解或者尝试了所有可能的选择都无法找到解为止。 ​ 回溯算法通常采用“深度优先搜索”来遍历解空间。在“二叉树”中，便提到了前序、中序和后序遍历都属于深..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"http://101.43.49.28:9000/blog/在前序遍历中搜索节点.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-30T01:23:37.000Z"}],["meta",{"property":"article:tag","content":"回溯"}],["meta",{"property":"article:published_time","content":"2024-04-08T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-30T01:23:37.000Z"}]]},"git":{"createdTime":1745976217000,"updatedTime":1745976217000,"contributors":[{"name":"Sylphy","username":"Sylphy","email":"sylphy.me@foxmail.com","commits":1,"url":"https://github.com/Sylphy"}]},"readingTime":{"minutes":32.91,"words":9873},"filePathRelative":"posts/algorithm/回溯.md","excerpt":"\\n<h2>回溯算法</h2>\\n<hr>\\n<p>​\\t「回溯算法 backtracking algorithm」是一种通过穷举来解决问题的方法，它的核心思想是从一个初始状态出发，暴力搜索所有可能的解决方案，当遇到正确的解则将其记录，直到找到解或者尝试了所有可能的选择都无法找到解为止。</p>\\n<p>​\\t回溯算法通常采用“深度优先搜索”来遍历解空间。在“二叉树”中，便提到了前序、中序和后序遍历都属于深度优先搜索。</p>\\n<div class=\\"hint-container info\\">\\n<p class=\\"hint-container-title\\">问题</p>\\n<p>给定一颗二叉树，搜索并记录所有值为 7 的节点，请返回节点列表。</p>\\n</div>","autoDesc":true}');export{B as comp,F as data};
